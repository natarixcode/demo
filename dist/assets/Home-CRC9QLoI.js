import{u as B,a as k,r as l,R as e,L as a,b as P,B as i}from"./index-C8OgQ19d.js";const C=()=>{const{user:n,isAuthenticated:o}=B(),h=k(),[m,E]=l.useState(null),[c,f]=l.useState([]),[g,d]=l.useState(!0),[u,v]=l.useState(null),N=[{id:1,emoji:"😊",label:"Happy",color:"from-iosYellow/20 to-iosOrange/20",border:"border-iosYellow/30"},{id:2,emoji:"😢",label:"Sad",color:"from-iosBlue/20 to-iosTeal/20",border:"border-iosBlue/30"},{id:3,emoji:"😎",label:"Cool",color:"from-iosPurple/20 to-iosIndigo/20",border:"border-iosPurple/30"},{id:4,emoji:"🤔",label:"Thoughtful",color:"from-iosGreen/20 to-iosTeal/20",border:"border-iosGreen/30"},{id:5,emoji:"😴",label:"Tired",color:"from-iosGray-400/20 to-iosGray-500/20",border:"border-iosGray-400/30"},{id:6,emoji:"🎉",label:"Excited",color:"from-iosPink/20 to-iosRed/20",border:"border-iosPink/30"}],w=[{id:1,name:"Tech Innovators",icon:"💻",members:"12.5K",description:"Code, design, innovate",online:"2.3K online",posts:1247,gradient:"from-iosBlue/10 to-iosPurple/10",iconBg:"from-iosBlue to-iosPurple"},{id:2,name:"Creative Minds",icon:"🎨",members:"8.9K",description:"Art, design, creativity",online:"1.8K online",posts:892,gradient:"from-iosPink/10 to-iosOrange/10",iconBg:"from-iosPink to-iosOrange"},{id:3,name:"Fitness Enthusiasts",icon:"💪",members:"15.2K",description:"Health, fitness, wellness",online:"3.1K online",posts:2156,gradient:"from-iosGreen/10 to-iosTeal/10",iconBg:"from-iosGreen to-iosTeal"},{id:4,name:"Food Lovers",icon:"🍕",members:"21.8K",description:"Recipes, restaurants, reviews",online:"4.2K online",posts:3421,gradient:"from-iosOrange/10 to-iosYellow/10",iconBg:"from-iosOrange to-iosYellow"}];l.useEffect(()=>{b()},[]);const b=async()=>{try{d(!0);const s=await(await fetch("http://localhost:3001/api/posts")).json();s.data&&f(s.data.slice(0,6))}catch(t){v("Failed to load posts"),console.error("Error fetching posts:",t)}finally{d(!1)}},x=async(t,s)=>{if(!o){i.error("Please login to vote"),h("/login");return}try{(await fetch(`http://localhost:3001/api/posts/${t}/vote`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n.id,vote_type:s})})).ok?(i.success(`${s==="upvote"?"Upvoted":"Downvoted"} successfully`),b()):i.error("Failed to record vote")}catch{i.error("Error voting on post")}},y=t=>{const s=new Date(t),r=Math.abs(new Date-s)/36e5;return r<1?"Just now":r<24?`${Math.floor(r)}h ago`:r<168?`${Math.floor(r/24)}d ago`:s.toLocaleDateString()},G=(t,s=150)=>t.length<=s?t:t.substr(0,s)+"...";return e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-iosGray-50 via-white to-iosGray-100"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},e.createElement("div",{className:"mb-8 animate-fade-in"},e.createElement("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl border border-white/20 shadow-glass-sm p-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-bold text-iosGray-900 mb-2"},o?`Welcome back, ${n==null?void 0:n.username}!`:"Welcome to Natarix"),e.createElement("p",{className:"text-iosGray-600"},o?"Discover what your communities are talking about":"Join communities, share ideas, and connect with people who matter")),!o&&e.createElement("div",{className:"hidden md:flex space-x-3"},e.createElement(a,{to:"/register",className:"px-6 py-3 bg-iosBlue text-white rounded-xl font-semibold hover:bg-iosBlue/90 transition-all duration-200 shadow-ios"},"Get Started"),e.createElement(a,{to:"/login",className:"px-6 py-3 bg-white/70 backdrop-blur-md text-iosGray-700 rounded-xl font-semibold hover:bg-white/90 transition-all duration-200 border border-white/20"},"Sign In"))))),e.createElement("div",{className:"mb-8 animate-slide-up"},e.createElement("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl border border-white/20 shadow-glass-sm p-6"},e.createElement("h2",{className:"text-xl font-semibold text-iosGray-900 mb-4"},"How are you feeling today?"),e.createElement("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3"},N.map(t=>e.createElement("button",{key:t.id,onClick:()=>E(m===t.id?null:t.id),className:`group relative p-4 rounded-2xl border-2 transition-all duration-300 hover:scale-105 ${m===t.id?`bg-gradient-to-br ${t.color} ${t.border} shadow-ios`:"bg-white/40 border-white/30 hover:bg-white/60"}`},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"text-2xl mb-1"},t.emoji),e.createElement("div",{className:"text-xs font-medium text-iosGray-700"},t.label))))))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},e.createElement("div",{className:"lg:col-span-2 space-y-6 animate-slide-up"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-2xl font-bold text-iosGray-900"},"Latest Posts"),o&&e.createElement(a,{to:"/create-post",className:"flex items-center space-x-2 px-4 py-2 bg-iosBlue text-white rounded-xl font-medium hover:bg-iosBlue/90 transition-all duration-200 shadow-ios"},e.createElement("span",null,"✍️"),e.createElement("span",null,"Create Post"))),g?e.createElement("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl border border-white/20 shadow-glass-sm p-8 text-center"},e.createElement(P,{size:"lg",text:"Loading posts..."})):u?e.createElement("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl border border-white/20 shadow-glass-sm p-8 text-center"},e.createElement("div",{className:"text-iosRed text-lg font-semibold mb-2"},"😔 Oops!"),e.createElement("p",{className:"text-iosGray-600"},u)):c.length===0?e.createElement("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl border border-white/20 shadow-glass-sm p-8 text-center"},e.createElement("div",{className:"text-6xl mb-4"},"📝"),e.createElement("h3",{className:"text-xl font-semibold text-iosGray-900 mb-2"},"No posts yet"),e.createElement("p",{className:"text-iosGray-600 mb-4"},"Be the first to share something with the community!"),o&&e.createElement(a,{to:"/create-post",className:"inline-flex items-center space-x-2 px-6 py-3 bg-iosBlue text-white rounded-xl font-semibold hover:bg-iosBlue/90 transition-all duration-200 shadow-ios"},e.createElement("span",null,"✍️"),e.createElement("span",null,"Create Your First Post"))):e.createElement("div",{className:"space-y-4"},c.map(t=>{var s;return e.createElement("div",{key:t.id,className:"bg-white/70 backdrop-blur-md rounded-2xl border border-white/20 shadow-glass-sm p-6 hover:shadow-ios-lg transition-all duration-300 group"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-iosBlue to-iosPurple rounded-full flex items-center justify-center text-white font-semibold"},(s=t.author_name)==null?void 0:s.charAt(0).toUpperCase()),e.createElement("div",null,e.createElement("p",{className:"font-semibold text-iosGray-900"},t.author_name),e.createElement("p",{className:"text-sm text-iosGray-500"},y(t.created_at)))),t.community_name&&e.createElement("div",{className:"px-3 py-1 bg-iosBlue/10 text-iosBlue rounded-full text-xs font-medium"},t.community_name)),e.createElement("div",{className:"mb-4"},e.createElement("h3",{className:"text-lg font-semibold text-iosGray-900 mb-2"},t.title),e.createElement("p",{className:"text-iosGray-700 leading-relaxed"},G(t.content))),e.createElement("div",{className:"flex items-center space-x-6 text-sm"},e.createElement("button",{onClick:()=>x(t.id,"upvote"),className:"flex items-center space-x-2 text-iosGray-600 hover:text-iosGreen transition-colors duration-200"},e.createElement("span",null,"👍"),e.createElement("span",null,t.upvotes||0)),e.createElement("button",{onClick:()=>x(t.id,"downvote"),className:"flex items-center space-x-2 text-iosGray-600 hover:text-iosRed transition-colors duration-200"},e.createElement("span",null,"👎"),e.createElement("span",null,t.downvotes||0)),e.createElement(a,{to:`/post/${t.id}`,className:"flex items-center space-x-2 text-iosGray-600 hover:text-iosBlue transition-colors duration-200"},e.createElement("span",null,"💬"),e.createElement("span",null,t.comment_count||0," comments")),e.createElement("button",{className:"flex items-center space-x-2 text-iosGray-600 hover:text-iosPurple transition-colors duration-200"},e.createElement("span",null,"📤"),e.createElement("span",null,"Share"))))}),e.createElement("div",{className:"text-center"},e.createElement(a,{to:"/communities",className:"inline-flex items-center space-x-2 px-6 py-3 bg-white/70 backdrop-blur-md text-iosGray-700 rounded-xl font-semibold hover:bg-white/90 transition-all duration-200 border border-white/20"},e.createElement("span",null,"👀"),e.createElement("span",null,"Explore More Posts"))))),e.createElement("div",{className:"space-y-6 animate-slide-up",style:{animationDelay:"0.1s"}},e.createElement("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl border border-white/20 shadow-glass-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("h3",{className:"text-lg font-semibold text-iosGray-900"},"Featured Communities"),e.createElement(a,{to:"/communities",className:"text-sm text-iosBlue hover:text-iosBlue/80 font-medium transition-colors duration-200"},"View All")),e.createElement("div",{className:"space-y-3"},w.map(t=>e.createElement("div",{key:t.id,className:`p-4 rounded-xl bg-gradient-to-r ${t.gradient} border border-white/20 hover:shadow-ios transition-all duration-300 cursor-pointer group`},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:`w-12 h-12 bg-gradient-to-br ${t.iconBg} rounded-xl flex items-center justify-center text-white text-xl shadow-ios`},t.icon),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("h4",{className:"font-semibold text-iosGray-900 truncate group-hover:text-iosBlue transition-colors duration-200"},t.name),e.createElement("p",{className:"text-xs text-iosGray-600 truncate"},t.description),e.createElement("div",{className:"flex items-center space-x-3 mt-1"},e.createElement("span",{className:"text-xs text-iosGray-500"},t.members," members"),e.createElement("span",{className:"text-xs text-iosGreen"},"● ",t.online))))))),e.createElement(a,{to:"/create-community",className:"block mt-4 p-3 bg-gradient-to-r from-iosBlue/10 to-iosPurple/10 border-2 border-dashed border-iosBlue/30 rounded-xl text-center hover:from-iosBlue/20 hover:to-iosPurple/20 transition-all duration-200 group"},e.createElement("div",{className:"text-2xl mb-1"},"➕"),e.createElement("p",{className:"text-sm font-medium text-iosBlue group-hover:text-iosBlue/80"},"Create Community"))),e.createElement("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl border border-white/20 shadow-glass-sm p-6"},e.createElement("h3",{className:"text-lg font-semibold text-iosGray-900 mb-4"},"Community Stats"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-iosGray-600"},"Total Communities"),e.createElement("span",{className:"font-semibold text-iosGray-900"},"1,247")),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-iosGray-600"},"Active Members"),e.createElement("span",{className:"font-semibold text-iosGray-900"},"52.3K")),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-iosGray-600"},"Posts Today"),e.createElement("span",{className:"font-semibold text-iosGray-900"},"834")),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-iosGray-600"},"Online Now"),e.createElement("span",{className:"font-semibold text-iosGreen"},"12.1K"))))))))};export{C as default};
